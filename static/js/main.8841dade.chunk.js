(this.webpackJsonptodolistapi=this.webpackJsonptodolistapi||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=a(15),s=a(11),u=a(31),m=a(45),d=a.n(m),p=a(136),f=a(134),E=Object(f.a)({button:{margin:"1rem 0"}}),h=function(e){var t=e.children,a=e.color,n=e.className,c=e.onClick,o=e.component,i=Object(u.a)(e,["children","color","className","onClick","component"]),l=E(),s=d()(l.button,n);return r.a.createElement(p.a,Object.assign({},i,{color:a,className:s,onClick:c,component:o,variant:"contained",fullWidth:!0}),t)};h.defaultProps={color:"primary",className:"",onClick:function(){},component:"button"};var b=h,g=function(){return r.a.createElement(b,{component:l.b,to:"/tasks"},"Go to the todo list")},v=a(112),O=a(142),j=a(143),k=a(17),S=a(25),T=a.n(S),A=a(36),w={KEY:"tasks"},x=a(14),C={getDataById:function(e,t){return e.filter((function(e){return e.id===t}))[0]||{}},sortById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.id-t.id}))},addToLocalStorage:function(e,t){return window.localStorage.setItem(e,JSON.stringify(t))},getFromLocalStorage:function(e){return window.localStorage.getItem(e)},getApiInstance:function(){var e=Object(A.a)(T.a.mark((function e(t,a,n){var r,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:t},c={headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},r=n?Object(x.a)(Object(x.a)({},r),c):r,e.prev=3,e.next=6,fetch(a,r);case 6:return o=e.sent,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(3),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},y={BASE_PATH:"https://5ee4fc53ddcea00016a37177.mockapi.io/api/v1",TASKS_PATH:"/tasks"},N={getTasks:function(){return C.getApiInstance("GET","".concat(y.BASE_PATH).concat(y.TASKS_PATH))},deleteTask:function(e){return C.getApiInstance("DELETE","".concat(y.BASE_PATH).concat(y.TASKS_PATH,"/").concat(e))},createTask:function(e,t){return C.getApiInstance("POST","".concat(y.BASE_PATH).concat(y.TASKS_PATH),{text:t})},changeTask:function(e,t){return C.getApiInstance("PUT","".concat(y.BASE_PATH).concat(y.TASKS_PATH,"/").concat(e),{id:e,text:t})}},I=function(e,t,a){var r=Object(n.useReducer)(a,t,(function(){var a;try{var n=C.getFromLocalStorage(e)||"".concat(t);a=JSON.parse(n)}catch(r){a=t}return a})),c=Object(k.a)(r,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){C.addToLocalStorage(e,o)}),[e,o]),[o,i]},_=a(62),L={FETCH_INIT:"FETCH_INIT",FETCH_SUCCESS:"FETCH_SUCCESS",FETCH_FAILURE:"FETCH_FAILURE",ADD_TASK:"ADD_TASK",REMOVE_TASK:"REMOVE_TASK",EDIT_TASK:"EDIT_TASK"},D={isLoading:!0,isError:!1,tasks:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.tasks,r=t.id,c=t.text;switch(a){case L.FETCH_INIT:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,isError:!1});case L.FETCH_SUCCESS:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isError:!1,tasks:n});case L.FETCH_FAILURE:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,isError:!0});case L.ADD_TASK:return Object(x.a)(Object(x.a)({},e),{},{tasks:[].concat(Object(_.a)(e.tasks),[{id:r,text:c}])});case L.REMOVE_TASK:return Object(x.a)(Object(x.a)({},e),{},{tasks:Object(_.a)(e.tasks).filter((function(e){return e.id!==r}))});case L.EDIT_TASK:return Object(x.a)(Object(x.a)({},e),{},{tasks:Object(_.a)(e.tasks).map((function(e){return e.id===r?Object(x.a)(Object(x.a)({},e),{},{text:c}):e}))});default:return e}},F=function(e,t){return{type:L.ADD_TASK,id:e,text:t}},H=function(e,t){return{type:L.EDIT_TASK,id:e,text:t}},K=function(e){return{type:L.REMOVE_TASK,id:e}},R=function(){var e=I(w.KEY,D,P),t=Object(k.a)(e,2),a=t[0],r=t[1],c=Object(n.useCallback)(Object(A.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:L.FETCH_INIT}),e.prev=1,e.next=4,N.getTasks();case 4:t=e.sent,a=C.sortById(t),r({type:L.FETCH_SUCCESS,tasks:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:L.FETCH_FAILURE});case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[r]);return Object(n.useEffect)((function(){c()}),[c]),[a,r,c]},B=a(44),U=Object(f.a)({paper:{margin:"1rem 0",padding:function(e){return e?"1rem 1rem 0":"1rem"}}}),M=function(e){var t=e.children,a=U(!!t);return r.a.createElement(v.a,{className:a.paper},r.a.createElement(B.a,{color:"inherit",align:"center"},"Something went wrong!"),t)};M.defaultProps={children:null};var W=M,G=a(137),z=a(138),J=Object(f.a)({loader:{height:function(e){return"calc(100vh - ".concat(e/16,"rem)")}}}),V=function(e){var t=e.size,a=e.color,n=e.className,c=Object(u.a)(e,["size","color","className"]),o=J(t),i=d()(o.loader,n);return r.a.createElement(G.a,{className:i,justify:"center",alignItems:"center",container:!0},r.a.createElement(z.a,Object.assign({},c,{size:t,color:a})))};V.defaultProps={size:100,color:"primary",className:""};var Y=V,X=Object(n.createContext)(D.tasks),$=Object(n.createContext)((function(){})),q=function(e){var t=e.children,a=R(),n=Object(k.a)(a,3),c=n[0],o=n[1],i=n[2],l=c.tasks,s=c.isLoading;return c.isError?r.a.createElement(W,null,r.a.createElement(b,{onClick:i},"Try again")):s?r.a.createElement(Y,null):r.a.createElement(X.Provider,{value:l},r.a.createElement($.Provider,{value:o},t))},Q=a(162),Z=a(139),ee=Object(f.a)({box:{padding:"1rem",textAlign:"center"},text:{fontSize:"1.5rem"},icon:{fontSize:"7.5rem"}}),te=function(){var e=ee();return r.a.createElement(Q.a,{className:e.box},r.a.createElement(Z.a,{className:e.icon,color:"primary"}),r.a.createElement(B.a,{className:e.text,color:"inherit"},"You have no tasks yet."))},ae=a(140),ne=a(141),re=Object(f.a)({listItem:{height:"4rem"},listItemText:{color:"#000",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"7rem"}}),ce=function(e){var t=e.text,a=e.id,n=Object(s.i)().url,c=re();return r.a.createElement(ae.a,{className:c.listItem,component:l.b,to:"".concat(n,"/").concat(a),button:!0},r.a.createElement(ne.a,{className:c.listItemText},t))};ce.defaultProps={text:"Simple todo"};var oe=Object(n.memo)(ce),ie=function(){var e=Object(n.useContext)(X),t=e.length-1;return e.length?r.a.createElement(O.a,null,e.map((function(e,a){return r.a.createElement("li",{key:e.id},r.a.createElement(oe,e),a<t&&r.a.createElement(j.a,null))}))):r.a.createElement(te,null)},le=function(){var e=Object(s.i)().url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{component:l.b,to:"".concat(e,"/new")},"Create a new todo"),r.a.createElement(v.a,null,r.a.createElement(ie,null)))},se=a(166),ue=a(161),me={EXTRA_SMALL:"xs",SMALL:"sm",MEDIUM:"md",LARGE:"lg",EXTRA_LARGE:"xl"},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(k.a)(t,2),r=a[0],c=a[1],o=function(e){var t=e.target.value;c(t)},i=function(){c("")};return[r,o,i]},pe=function(e){var t=Object(n.useState)(e),a=Object(k.a)(t,2),r=a[0],c=a[1];return[r,function(){c(!0)},function(){c(!1)}]},fe=a(21),Ee=a(144),he=function(e){var t=Object(fe.a)().breakpoints;return Object(Ee.a)(t.down(e))},be=a(165),ge=a(146),ve=a(147),Oe=a(148),je=a(149),ke=function(e){var t=e.children,a=e.title,n=e.fullScreen,c=e.open,o=e.handleClose,i=Object(u.a)(e,["children","title","fullScreen","open","handleClose"]);return r.a.createElement(be.a,Object.assign({},i,{fullScreen:n,open:c,onClose:o,"aria-labelledby":"responsive-dialog-title"}),r.a.createElement(ge.a,{id:"responsive-dialog-title"},a),r.a.createElement(ve.a,null,r.a.createElement(Oe.a,null,t)),r.a.createElement(je.a,null,r.a.createElement(p.a,{onClick:o,color:"primary",autoFocus:!0},"OK")))};ke.defaultProps={children:null,title:"Dialog title",fullScreen:!1,open:!1,handleClose:function(){}};var Se=ke,Te=Object(f.a)({paper:{margin:"1rem 0",padding:"1rem 1rem 0"}}),Ae=function(){var e=Object(s.f)(),t=Object(s.h)().id,a=Object(n.useContext)($),c=Object(n.useContext)(X),o=pe(!1),i=Object(k.a)(o,3),l=i[0],u=i[1],m=i[2],d=he(me.SMALL),p=C.getDataById(c,t),f=de(p.text),E=Object(k.a)(f,3),h=E[0],b=E[1],g=E[2],O=Te(),j=p.id?"Edit the todo":"Add a new todo",S=function(){var t=Object(A.a)(T.a.mark((function t(n){var r,c,o,i,l;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=p.id?H:F,c=p.id?N.changeTask:N.createTask,t.prev=3,t.next=6,c(p.id,h);case 6:o=t.sent,i=o.id,l=o.text,a(r(i,l)),g(),e.push("/tasks/".concat(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),u();case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:O.paper},r.a.createElement("form",{onSubmit:S},r.a.createElement(se.a,{htmlFor:"text",shrink:!0},j),r.a.createElement(ue.a,{value:h,onChange:b,id:"text",margin:"normal",fullWidth:!0,autoFocus:!0}))),r.a.createElement(Se,{open:l,handleClose:m,fullScreen:d,title:"Something went wrong..."},"Error, please try again later."))},we=a(152),xe=a(153),Ce=a(154),ye=a(155),Ne=a(164),Ie=a(151),_e=function(e){var t=e.children,a=e.title,n=e.ariaLabel,c=e.className,o=Object(u.a)(e,["children","title","ariaLabel","className"]);return r.a.createElement(Ne.a,Object.assign({},o,{className:c,title:a,"aria-label":n,TransitionComponent:Ie.a,arrow:!0}),t)};_e.defaultProps={ariaLabel:"",className:""};var Le=_e,De=Object(f.a)({container:{height:"4rem",display:"flex",position:"relative",textAlign:"left",alignItems:"center",padding:"0.5rem 1rem",justifyContent:"flex-start",textDecoration:"none",backgroundColor:"#fff"},textBox:{flex:"1 1 auto",minWidth:0,margin:"0.25rem 0"},typography:{color:"#000",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"7rem"},secondaryAction:{top:"50%",right:"1rem",position:"absolute",transform:"translateY(-50%)"}}),Pe=[{id:"home",exact:!0,path:"/",component:g},{id:"tasks",exact:!0,path:"/tasks",component:le},{id:"newTask",path:"/tasks/new",component:Ae},{id:"task",exact:!0,path:"/tasks/:id",component:function(){var e=Object(s.i)().url,t=Object(s.f)(),a=Object(s.h)().id,c=Object(n.useContext)($),o=Object(n.useContext)(X),i=pe(!1),u=Object(k.a)(i,3),m=u[0],d=u[1],p=u[2],f=he(me.SMALL),E=De(),h=C.getDataById(o,a),g=function(){var e=Object(A.a)(T.a.mark((function e(a){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,N.deleteTask(h.id);case 4:n=e.sent,r=n.id,c(K(r)),t.push("/tasks"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),d();case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{component:l.b,to:"/tasks"},"Go back to the todo list"),r.a.createElement(v.a,null,r.a.createElement(we.a,{className:E.container},r.a.createElement(Q.a,{className:E.textBox},r.a.createElement(B.a,{className:E.typography,component:"span"},h.text)),r.a.createElement(Q.a,{className:E.secondaryAction},r.a.createElement(Le,{title:"Delete","aria-label":"delete"},r.a.createElement(xe.a,{onClick:g},r.a.createElement(Ce.a,null))),r.a.createElement(Le,{title:"Edit","aria-label":"edit"},r.a.createElement(xe.a,{onClick:function(a){a.preventDefault(),t.push("".concat(e,"/edit"))}},r.a.createElement(ye.a,null)))))),r.a.createElement(Se,{open:m,handleClose:p,fullScreen:f,title:"Something went wrong..."},"Error, please try again later."))}},{id:"editTask",path:"/tasks/:id/edit",component:Ae},{id:"NoMatch",component:function(){return r.a.createElement(W,null,r.a.createElement(b,{component:l.b,to:"/tasks"},"Go to the home page"))}}],Fe=a(157),He=a(158),Ke=a(159),Re=a(160),Be=a(156),Ue=Object(f.a)({link:{"&:hover":{textDecoration:"none"}}}),Me=function(e){var t=e.children,a=e.href,n=e.color,c=e.className,o=Object(u.a)(e,["children","href","color","className"]),i=Ue(),s=d()(i.link,c);return r.a.createElement(Be.a,Object.assign({},o,{component:l.b,to:a,color:n,className:s}),t)};Me.defaultProps={color:"inherit",className:""};var We=Me,Ge=Object(f.a)({paper:{padding:0,margin:0,height:"100vh",backgroundColor:"#fafafa"},appBar:{height:"4rem"},grid:{margin:"1rem 0"},fab:{margin:"1rem",position:"fixed",bottom:0,right:0}}),ze=function(e){var t=e.children,a=Object(s.f)(),n=Object(s.g)().pathname,c=Ge(),o=n.includes("tasks");return r.a.createElement(v.a,{className:c.paper,elevation:0},r.a.createElement(Fe.a,{className:c.appBar,color:"primary",position:"static"},r.a.createElement(He.a,null,r.a.createElement(We,{href:"/"},"ToDo List API"))),r.a.createElement(G.a,{className:c.grid,justify:"center",container:!0},r.a.createElement(G.a,{xs:11,md:8,lg:4,item:!0},r.a.createElement(q,null,t))),o&&r.a.createElement(Le,{title:"Go back","aria-label":"back"},r.a.createElement(Ke.a,{className:c.fab,onClick:a.goBack,color:"primary"},r.a.createElement(Re.a,null))))},Je=a(79),Ve=a(80),Ye=a(82),Xe=a(81),$e=function(e){Object(Ye.a)(a,e);var t=Object(Xe.a)(a);function a(){var e;Object(Je.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isError:!1},e.reload=function(){return window.location.reload()},e}return Object(Ve.a)(a,[{key:"render",value:function(){var e=this.state.isError,t=this.props.children;return e?r.a.createElement(W,null,r.a.createElement(b,{onClick:this.reload},"Reload the page")):t}}],[{key:"getDerivedStateFromError",value:function(){return{isError:!0}}}]),a}(n.Component),qe=function(){return r.a.createElement(n.StrictMode,null,r.a.createElement($e,null,r.a.createElement(l.a,null,r.a.createElement(ze,null,r.a.createElement(s.c,null,Pe.map((function(e){var t=e.id,a=e.exact,n=e.path,c=e.component;return r.a.createElement(s.a,{key:t,exact:a,path:n},r.a.createElement(c,null))})))))))};a(108);Object(c.render)(r.a.createElement(qe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ToDoListAPI",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/ToDoListAPI","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):i(t,e)}))}}()},98:function(e,t,a){e.exports=a(109)}},[[98,1,2]]]);
//# sourceMappingURL=main.8841dade.chunk.js.map